function openModal(id){let modal=document.getElementById(id);modal.style.display="block";var close=document.getElementsByClassName("ufps-modal-close");for(i=0;i<close.length;i++){close[i].onclick=function(){modal.style.display="none";}}window.onclick=function(event){if(event.target==modal){modal.style.display="none";}}}document.addEventListener('keyup',function(e){if(e.keyCode==27){var close=document.getElementsByClassName("ufps-image-modal");for(i=0;i<close.length;i++){close[i].style.display="none";}}});function openModalImage(id){var modal=document.getElementById(id);var modalImg=modal.getElementsByClassName("ufps-image-modal-content")[0];var captionText=modal.getElementsByClassName("ufps-image-modal-caption")[0];modal.style.display="block";var close=document.getElementsByClassName("ufps-image-modal-close");for(i=0;i<close.length;i++){close[i].onclick=function(){modal.style.display="none";}}}function closeModalImages(){var close=document.getElementsByClassName("ufps-image-modal");for(i=0;i<close.length;i++){close[i].style.display="none";}}function MyShow(id){closeModalImages();openModalImage(id);}function openDropdown(id){var dropdown=document.getElementById(id);window.onclick=function(event){console.log(event);console.log(event.target);if(event.target.matches('.ufps-dropdown-btn')&&event.target.parent!=dropdown){console.log("entra a dp");var dropdowns=document.getElementsByClassName("ufps-dropdown-content");var i;for(i=0;i<dropdowns.length;i++){var openDropdown=dropdowns[i];if(openDropdown.classList.contains('ufps-dropdown-show')){openDropdown.classList.remove('ufps-dropdown-show');}}dropdown.getElementsByClassName("ufps-dropdown-content")[0].classList.toggle("ufps-dropdown-show");}if(!event.target.matches('.ufps-dropdown-btn')){var dropdowns=document.getElementsByClassName("ufps-dropdown-content");var i;for(i=0;i<dropdowns.length;i++){var openDropdown=dropdowns[i];if(openDropdown.classList.contains('ufps-dropdown-show')){openDropdown.classList.remove('ufps-dropdown-show');}}}}.bind(dropdown);}function toggleAccordion(){var accordion=document.getElementsByClassName("ufps-btn-accordion");var i;for(i=0;i<accordion.length;i++){accordion[i].onclick=function(){this.classList.toggle("ufps-accordion-active");this.nextElementSibling.classList.toggle("ufps-accordion-show");}}}function openTab(evt,idTab,idContainer){var i,tabcontent,tablinks;tabcontent=document.getElementById(idContainer).getElementsByClassName("ufps-tab-content");for(i=0;i<tabcontent.length;i++){tabcontent[i].style.display="none";}tablinks=document.getElementById(idContainer).getElementsByClassName("ufps-tab-links");for(i=0;i<tablinks.length;i++){tablinks[i].className=tablinks[i].className.replace(" ufps-tab-active","");}document.getElementById(idTab).style.display="block";evt.currentTarget.className+=" ufps-tab-active";}function closeTab(evt,idContainer){var i,tabcontent,tablinks;tabcontent=document.getElementById(idContainer).getElementsByClassName("ufps-tab-content");for(i=0;i<tabcontent.length;i++){tabcontent[i].style.display="none";}tablinks=document.getElementById(idContainer).getElementsByClassName("ufps-tab-links");for(i=0;i<tablinks.length;i++){tablinks[i].className=tablinks[i].className.replace(" ufps-tab-active","");}evt.currentTarget.className+=" ufps-tab-active";}function TurnOff(evt,idContainer){evt.currentTarget.className=evt.currentTarget.className.replace(" ufps-tab-active","");}function filtreEvento(evt,idEvento,accion,param1='',param2=''){var i,btnLight,btnLightActive;btnLight=document.getElementById(idEvento).getElementsByClassName("ufps-btn");for(i=0;i<btnLight.length;i++){btnLight[i].className=btnLight[i].className.replace(" ufps-btn-light-active"," ufps-btn-light");}evt.currentTarget.className=evt.currentTarget.className.replace(" ufps-btn-light"," ufps-btn-light-active");var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){document.getElementById("informacionContent").innerHTML=this.responseText;if(idEvento=='ofertas'){toggleAccordion();}}};if(idEvento=='galerias'){xhttp.open("GET","index.php?modulo=galerias&idtipog="+accion+"&ajax=galerias",true);}else{if(idEvento=='eventos'){xhttp.open("GET","index.php?modulo=principal&idtipoi="+accion+"&ajax=noticias",true);}else{if(idEvento=='calendarios'){xhttp.open("GET","index.php?modulo=calendarios&idtipoc="+accion+"&anno="+param1+"&mes="+param2+"&ajax=calendarios",true);}else{if(idEvento=='ofertas'){xhttp.open("GET","index.php?pid="+param1+"&idtipoo="+accion+"&ajax=ofertas",true);}}}}xhttp.send();}function TogglePopUp(evt,idEvento){var divEvents;divEvents=document.getElementById(idEvento);if(divEvents.style.opacity){if(divEvents.style.opacity==0){jQuery("#"+idEvento).fadeTo(300,0.95,function(){});}else{jQuery("#"+idEvento).fadeTo(300,0,function(){});}}else{jQuery("#"+idEvento).fadeTo(300,0.95,function(){});}}function WeekDirection(actual,direccion,parametro){var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){document.getElementById("proximasContent").innerHTML=this.responseText;toggleAccordion();}};xhttp.open("GET","index.php?modulo=proximas&semana="+(actual+direccion)+"&posicion="+parametro+"&ajax=proximas",true);xhttp.send();}function MonthDirection(actual,direccion,tipoc,anno){var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){document.getElementById("informacionContent").innerHTML=this.responseText;toggleAccordion();}};xhttp.open("GET","index.php?modulo=calendarios&idtipoc="+tipoc+"&anno="+anno+"&mes="+(actual+direccion)+"&ajax=calendarios",true);xhttp.send();}function ShowEntries(evt,columna,dia,fecha,tipoc){var DivEntries=document.getElementById("calendarentries");var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){DivEntries.innerHTML=this.responseText;}};xhttp.open("GET","controladores/leefecha.php?fecha="+fecha+"&tipoc="+tipoc,true);xhttp.send();DivEntries.style.top=(evt.pageY+20)+"px";if(columna<2){DivEntries.style.left=(evt.pageX)+"px";}else{if(columna<5){DivEntries.style.left=(evt.pageX-120)+"px";}else{DivEntries.style.left=(evt.pageX-250)+"px";}}DivEntries.style.display="block";}function HideEntries(){var DivEntries=document.getElementById("calendarentries");DivEntries.style.display="none";}function ShowModal(evt,Nombremodal,fecha,tipoc){var DivEntries=document.getElementById("modalentries");var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){DivEntries.innerHTML=this.responseText;openModal(Nombremodal);}};xhttp.open("GET","controladores/leefecha.php?fecha="+fecha+"&tipoc="+tipoc,true);xhttp.send();}function ToggleIcon(img,replacement){var Icon=document.getElementById(img);Icon.src=replacement;}function logOut(){document.forms['logout'].submit();}function changeMe(){openModal('modalchangepass');}function isValidDate(dateString){var regEx=/^\d{4}-\d{2}-\d{2}$/;if(!dateString.match(regEx))return false;var d;if(!((d=new Date(dateString))|0))return false;return d.toISOString().slice(0,10)==dateString;}function closeAlertListener(event){var alerts=document.getElementsByClassName("ufps-close-alert-btn");var i=0;for(i=0;i<alerts.length;i++){alerts[i].onclick=function(event){event.target.parentElement.style.display='none';}}}function notification(text,time){console.log("notificacion");var notification=document.createElement('div');notification.className='ufps-notification';notification.innerHTML=text;document.getElementsByTagName('body')[0].appendChild(notification);notification.className+=" ufps-notification-show";setTimeout(function(){notification.className=notification.className.replace(" ufps-notification-show","");console.log("quita clase");},time);}function toggleMenu(id){var navbar=document.getElementById(id);navbar.getElementsByClassName("ufps-btn-menu")[0].classList.toggle("ufps-change");var left=navbar.getElementsByClassName("ufps-navbar-left")[0];var right=navbar.getElementsByClassName("ufps-navbar-right")[0];if(left.style.display!="block"){left.style.display="block";right.style.display="none";setTimeout(function(){left.style.opacity="1";right.style.opacity="0";},100);}else{left.style.opacity="0";right.style.opacity="1";setTimeout(function(){left.style.display="none";right.style.display="block";},210);}}window.onload=function(){toggleAccordion();closeAlertListener();}